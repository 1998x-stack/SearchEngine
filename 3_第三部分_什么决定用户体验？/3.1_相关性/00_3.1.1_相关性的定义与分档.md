# 00_3.1.1_相关性的定义与分档

"""
Lecture: 3_第三部分_什么决定用户体验？/3.1_相关性
Content: 00_3.1.1_相关性的定义与分档
"""

## 相关性的定义与分档

### 一、简介
相关性是搜索引擎评估中最重要的指标，它衡量的是查询词 $ q $ 与文档 $ d $ 之间的匹配程度。如果文档 $ d $ 能满足查询词 $ q $ 的需求，则 $ (q, d) $ 是相关的。相关性是影响用户体验的关键因素，其重要性远超内容质量、时效性、地域性、个性化等因素。

### 二、相关性的基本原则
相关性评价的基本原则包括以下几点：
1. **需求匹配**：相关性是指文档 $ d $ 能否满足查询词 $ q $ 的需求或回答查询词提出的问题，而非字面上的匹配。即使文档 $ d $ 中不包含查询词中的任何字和词， $ q $ 与 $ d $ 也可以具有高相关性。
2. **独立性**：相关性评价仅考虑需求匹配，不涉及内容质量、时效性、地域性、个性化等因素。

### 三、相关性档位
相关性档位通常分为 4 档或 5 档，常见的是 4 档划分方式，将“相关”细分为“高”和“中”，将“不相关”细分为“低”和“无”。

#### 1. 相关与不相关的判定
给定查询词 $ q $ 和文档 $ d $，首先判断 $ (q, d) $ 是否相关。在此基础上进一步细分档位。

#### 2. 高相关与中相关
- **高相关**：文档内容的 50% 以上满足查询词的需求。例如，查询词为“泰坦尼克号”，如果文档是演员莱昂纳多的访谈，谈及其几部代表作，其中重点谈了《泰坦尼克号》电影，并且篇幅超过 50%，则判定为高相关。
- **中相关**：文档内容部分满足查询词的需求，但不足 50%。例如，查询词为“小米手机测评”，如果文档是安卓手机测评，包含了几款小米手机的测评，但篇幅未超过 50%，则判定为中相关。

#### 3. 低相关与无相关
- **低相关**：文档不能满足查询词的需求，但具有参考价值。例如，查询词为“初二下册物理考点”，如果文档是“初三中考物理考点”，虽然不能完全满足需求，但仍具有一定参考价值，判定为低相关。
- **无相关**：文档完全不能满足查询词的需求且没有参考价值。例如，查询词为“面霜”，但文档是“口红测评”，判定为无相关。

### 四、相关性评价方法
相关性评价方法包括文本匹配和语义匹配两类。

#### 1. 文本匹配
文本匹配包括 TF-IDF 和 BM25 等方法，它们通过计算查询词和文档中词语的匹配程度来衡量相关性。这些方法虽然简单，但在处理复杂查询时效果有限。

#### 2. 语义匹配
语义匹配使用深度学习模型，如 BERT 模型，通过理解查询词和文档的语义关系来衡量相关性。BERT 模型的准确性远超传统的文本匹配方法，已成为工业界的主流选择。

### 五、详细表格

| 指标类别  | 指标名称       | 英文名称                       | 具体定义                                                                                                                                 | 作用及重要性                                   | 测量周期 |
|----------|--------------|------------------------------|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|----------|
| 相关性指标 | 高相关         | High Relevance                | 文档内容的 50% 以上满足查询词需求。                                                                                                       | 提供用户最满意的结果，提高用户体验。                     | 每次评估  |
| 相关性指标 | 中相关         | Medium Relevance              | 文档内容部分满足查询词需求，但不足 50%。                                                                                                   | 提供一定参考价值的结果。                              | 每次评估  |
| 相关性指标 | 低相关         | Low Relevance                 | 文档不能满足查询词需求，但具有一定参考价值。                                                                                               | 提供有限参考价值，不能完全满足用户需求。                     | 每次评估  |
| 相关性指标 | 无相关         | No Relevance                  | 文档完全不能满足查询词需求且没有参考价值。                                                                                                 | 过滤掉无用信息，优化用户体验。                            | 每次评估  |
| 文本匹配   | TF-IDF        | Term Frequency-Inverse Document Frequency | 计算查询词和文档中词语的匹配程度。                                                                                                         | 传统的文本匹配方法，适用于简单查询。                         | 每次查询  |
| 文本匹配   | BM25          | Best Matching 25              | 基于 TF-IDF 的改进算法，考虑了词语的频率和文档长度等因素。                                                                                  | 提供更准确的文本匹配结果。                               | 每次查询  |
| 语义匹配   | BERT模型       | Bidirectional Encoder Representations from Transformers | 使用深度学习模型理解查询词和文档的语义关系。                                                                                               | 提供最准确的语义匹配结果，适用于复杂查询。                      | 每次查询  |

### 六、总结
相关性是搜索引擎最重要的评价指标，它直接影响用户体验。通过合理的相关性定义与分档，可以更准确地评估和提升搜索引擎的性能。文本匹配和语义匹配各有优势，在实际应用中需要根据具体场景选择合适的方法。不断优化相关性评价方法，是提升搜索引擎用户满意度的关键。